{% extends "rumix/base.html" %} 
{% block title %}{{ animal.nome_animal }} | Rumix{% endblock %}
{% block content %}
<style>
.animal-img-box {
    width: 300px !important;
    height: 300px !important;
    overflow: hidden !important;
    border-radius: 12px !important;
    margin: 0 auto 20px auto !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    background: #f8f9fa !important;
}
.animal-img-box img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: center !important;
}
</style>
<div class="container py-4 d-flex justify-content-center">
  <div class="card shadow-lg p-4" style="max-width: 650px; width: 100%; border-radius: 15px;">
    <h1 class="text-center mb-3">{{ animal.nome_animal }}</h1>
    {% if animal.foto_animal %}
    <div class="animal-img-box">
        <img src="{{ animal.foto_animal.url }}" alt="Foto do animal">
    </div>
    {% endif %}
    {% if animal.vacinas_animal %}
      <h4 class="text-center mt-3 mb-2">Vacinas</h4>
      <div class="animal-img-box">
          <img src="{{ animal.vacinas_animal.url }}" alt="Vacinas">
      </div>
    {% endif %}
    <p><strong>Fazenda:</strong>
    {% if animal.fazenda %}
        <a href="{% url 'fazendas:detalhe' animal.fazenda.id %}">
            {{ animal.fazenda.nome_fazenda }}
        </a>
    {% endif %}
    </p>
    {% if confirm_delete %}
      <p class="text-center mt-3">
        Tem certeza que deseja excluir <strong>{{ animal.nome_animal }}</strong>?
      </p>
      <form method="post" action="{% url 'animais:excluir' animal.id %}" class="text-center">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Sim, excluir</button>
        <a href="{% url 'animais:detalhe' animal.id %}" class="btn btn-secondary ms-2">Cancelar</a>
      </form>
    {% else %}
      <div class="mt-3" style="font-size: 1.05rem;">
        <p><strong>Gênero:</strong> {{ animal.get_genero_animal_display }}</p>
        <p><strong>Porte:</strong> {{ animal.get_porte_animal_display }}</p>
        <p><strong>Classificação:</strong> {{ animal.get_classificacao_animal_display }}</p>
        <p><strong>Observações:</strong> {{ animal.observacao_animal|default:"(sem observações)" }}</p>
      </div>
      <div class="mt-4 d-flex justify-content-center gap-2">
        <a href="{% url 'animais:editar' animal.id %}" class="btn btn-primary">Editar</a>
        <a href="{% url 'animais:lista' %}" class="btn btn-outline-secondary">Voltar</a>
        <a href="{% url 'animais:excluir' animal.id %}" class="btn btn-danger">Excluir</a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
